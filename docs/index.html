<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Documentation Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.dark.css">

	<link type="text/css" rel="stylesheet" href="styles/site.Cosmo.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Documentation</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="canvasDataGrid.html">canvasDataGrid</a></li><li><a href="canvasDataGrid.cell.html">canvasDataGrid.cell</a></li><li><a href="canvasDataGrid.contextMenuItem.html">canvasDataGrid.contextMenuItem</a></li><li><a href="canvasDataGrid.rect.html">canvasDataGrid.rect</a></li><li><a href="canvasDataGrid.style.html">canvasDataGrid.style</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="events.list.html" class="dropdown-toggle" data-toggle="dropdown">Events<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="canvasDataGrid.html#event:afterrendercell">canvasDataGrid#event:afterrendercell</a></li><li><a href="canvasDataGrid.html#event:beforebeginedit">canvasDataGrid#event:beforebeginedit</a></li><li><a href="canvasDataGrid.html#event:beforeendedit">canvasDataGrid#event:beforeendedit</a></li><li><a href="canvasDataGrid.html#event:beforerendercell">canvasDataGrid#event:beforerendercell</a></li><li><a href="canvasDataGrid.html#event:beginedit">canvasDataGrid#event:beginedit</a></li><li><a href="canvasDataGrid.html#event:click">canvasDataGrid#event:click</a></li><li><a href="canvasDataGrid.html#event:collapsetree">canvasDataGrid#event:collapsetree</a></li><li><a href="canvasDataGrid.html#event:contextmenu">canvasDataGrid#event:contextmenu</a></li><li><a href="canvasDataGrid.html#event:datachanged">canvasDataGrid#event:datachanged</a></li><li><a href="canvasDataGrid.html#event:dblclick">canvasDataGrid#event:dblclick</a></li><li><a href="canvasDataGrid.html#event:endedit">canvasDataGrid#event:endedit</a></li><li><a href="canvasDataGrid.html#event:expandtree">canvasDataGrid#event:expandtree</a></li><li><a href="canvasDataGrid.html#event:keydown">canvasDataGrid#event:keydown</a></li><li><a href="canvasDataGrid.html#event:keypress">canvasDataGrid#event:keypress</a></li><li><a href="canvasDataGrid.html#event:keyup">canvasDataGrid#event:keyup</a></li><li><a href="canvasDataGrid.html#event:mousedown">canvasDataGrid#event:mousedown</a></li><li><a href="canvasDataGrid.html#event:mousemove">canvasDataGrid#event:mousemove</a></li><li><a href="canvasDataGrid.html#event:mouseup">canvasDataGrid#event:mouseup</a></li><li><a href="canvasDataGrid.html#event:ordercolumn">canvasDataGrid#event:ordercolumn</a></li><li><a href="canvasDataGrid.html#event:rendercell">canvasDataGrid#event:rendercell</a></li><li><a href="canvasDataGrid.html#event:rendercellgrid">canvasDataGrid#event:rendercellgrid</a></li><li><a href="canvasDataGrid.html#event:renderorderbyarrow">canvasDataGrid#event:renderorderbyarrow</a></li><li><a href="canvasDataGrid.html#event:rendertext">canvasDataGrid#event:rendertext</a></li><li><a href="canvasDataGrid.html#event:rendertreearrow">canvasDataGrid#event:rendertreearrow</a></li><li><a href="canvasDataGrid.html#event:resize">canvasDataGrid#event:resize</a></li><li><a href="canvasDataGrid.html#event:resizecolumn">canvasDataGrid#event:resizecolumn</a></li><li><a href="canvasDataGrid.html#event:schemachanged">canvasDataGrid#event:schemachanged</a></li><li><a href="canvasDataGrid.html#event:scroll">canvasDataGrid#event:scroll</a></li><li><a href="canvasDataGrid.html#event:selectionchanged">canvasDataGrid#event:selectionchanged</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-data.html">data</a></li><li><a href="tutorial-filters.html">filters</a></li><li><a href="tutorial-formatters.html">formatters</a></li><li><a href="tutorial-schema.html">schema</a></li><li><a href="tutorial-sorters.html">sorters</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	
	











	
	





    <section class="readme-section">
        <article><h1>Canvas Data Grid</h1><ul>
<li><a href="https://tonygermaneri.github.io/canvas-datagrid/sample/index.html">Demo</a></li>
<li>High performance lightweight hierarchal canvas based data grid.</li>
<li>Support for millions of rows and columns.</li>
<li>Extensible styling, filtering, formatting, resizing, selecting, and ordering.</li>
<li>Rich API of events, methods and properties optimized for CRUD, reporting and work flow applications.</li>
<li>Zero dependencies, very small code base, a single 94k (16k gziped) file.</li>
</ul>
<h1>Installation</h1><p>You can install canvas-datagrid one of three ways:</p>
<ol>
<li>Download the <a href="https://raw.githubusercontent.com/TonyGermaneri/canvas-datagrid/master/lib/main.js">source</a> file from github.</li>
<li><p>Use bower</p>
<p> bower install canvas-datagrid</p>
</li>
<li><p>Use npm</p>
<p> npm install canvas-datagrid</p>
</li>
</ol>
<p>Place the single source file <code>./lib/main.js</code> in your web page using
a script tag that points to the source or use a require framework.</p>
<p>If you do not use a require framework a function will
be added to the global scope of the web page called <code>canvasDatagrid</code>.</p>
<h1>Instantiation</h1><p>Works with require framework or without.
If used without require, <code>canvasDataGrid</code> is declared in the global scope.</p>
<p>Simple creation and data set.</p>
<pre class="prettyprint source"><code>var grid = canvasDataGrid({
    parentNode: document.getElementById('myHtmlElement'),
    data: [
        {col1: 'row 1 column 1', col2: 'row 1 column 2', col3: 'row 1 column 3'},
        {col1: 'row 2 column 1', col2: 'row 2 column 2', col3: 'row 2 column 3'}
    ]
});</code></pre><p>Check which <a href="#cell">cell</a> the user clicked on.</p>
<pre class="prettyprint source"><code>grid.addEventListener('click', function (e, cell) {
    console.log(cell.value);
});</code></pre><p>Check values when the selection has changed.</p>
<pre class="prettyprint source"><code>grid.addEventListener('selectionchanged', function (data, matrix, bounds) {
    console.log(data);
});</code></pre><p>You can alter the data after instantiation.</p>
<pre class="prettyprint source"><code>grid.data[0].col1 = 'blah';
// gota call draw after setting data this way.
grid.draw();</code></pre><p>Change the color of a cell based on value.</p>
<pre class="prettyprint source"><code>grid.addEventListener('rendercell', function (ctx, cell) {
    if (cell.value === 'blah') {
        ctx.fillStyle = 'red';
    }
});</code></pre><p>Alter the format (appearance only) of a data based on type.</p>
<pre class="prettyprint source"><code>grid.formatters.date = function (ctx, cell) {
    return new Date(cell.value).toISOString();
};</code></pre><p>Add a tree view.</p>
<pre class="prettyprint source"><code>grid.attributes.tree = true;
grid.addEventListener('expandtree', function (grid, data, rowIndex) {
    grid.data = [{My: 'Other Data'}];
});</code></pre><p>Change all the data!</p>
<pre class="prettyprint source"><code>grid.data = [{other: 'data'}];</code></pre><h1>Extending</h1><p>canvas-datagrid can be extended in many ways.  This section covers all of the
methods of extending the canvas.</p>
<h2>Extending the visual appearance</h2><p>All visual elements of the canvas are dependent on the values of the style object.
You can change the dimensions and appearance of any element of the grid.</p>
<p>This example changes the fill style of the cell when the cell is a certain value.</p>
<pre class="prettyprint source"><code>grid.addEventListener('rendercell', function (ctx, cell) {
    if (cell.header.name === 'MyStatusCell' && /blah/.test(cell.value)) {
        ctx.fillStyle = '#AEEDCF';
    }
});</code></pre><p>For a complete list of all style properties visit the <a href="#styles">styles</a> section.</p>
<h2>Drawing on the canvas</h2><p>Extending behavior is done using event handlers just like a regular HTML element.
You can alter the content of a rendered cell by attaching to such an event handler.
Below is an example of drawing an image into a cell:</p>
<p>This example attaches to two events. <code>rendertext</code> to prevent the rendering of text into the cell...</p>
<pre class="prettyprint source"><code>grid.addEventListener('rendertext', function (ctx, cell) {
    if (cell.rowIndex > -1) {
        if (cell.header.name === 'MyImageColumnName') {
            cell.formattedValue = cell.value ? '' : 'No Image';
        }
    }
});</code></pre><p>... and <code>afterrendercell</code> to draw an image into the cell after the background and borders are drawn.
Because the image is loaded asynchronously, you need to attach to the load even to actually draw
the image.</p>
<pre class="prettyprint source"><code>var imgs = {};
grid.addEventListener('afterrendercell', function (ctx, cell) {
    var i, contextGrid = this;
    if (cell.header.name === 'MyImageColumnName'
            && cell.value && cell.rowIndex > -1) {
        if (!imgs[cell.value]) {
            i = imgs[cell.value] = new Image();
            i.src = cell.value;
            i.onload = function () {
                i.targetHeight = cell.height;
                i.targetWidth = cell.height * (i.width / i.height);
                contextGrid.draw();
            };
            return;
        }
        i = imgs[cell.value];
        if (i.width !== 0) {
            ctx.drawImage(i, cell.x, cell.y, i.targetWidth, i.targetHeight);
        }
    }
});</code></pre><h2>Extending the context menu</h2><p>You can add or remove items from the context menu, or stop it from appearing.
In the following example, a context menu item is added:</p>
<pre class="prettyprint source"><code>    grid.addEventListener('contextmenu', function (e, cell, items) {
        items.push({
            title: 'Process selected row(s)',
            click: function () {
                // cell.value contains the cell's value
                // cell.data contains the row values
                myProcess(cell.value, cell.data);
            }
        });
    });</code></pre><p>The <code>title</code> property can be an HTML node reference instead of a string.
The <code>click</code> property is optional.  See <a href="#contextmenu">contextmenu</a> complete information.</p>
<h2>Formatting data</h2><p>You can format the data in your cells without altering the data in two ways.</p>
<p>The first and fastest method is grid formatters.
Grid formatters allow you to define what happens to a type of data.
Data type is defined in the <a href="#schema">schema</a> that you can optionally pass to describe your data.</p>
<p>This method is slightly faster due to the O(1) hash map employed in the value formatters.</p>
<p>In the following example the type <code>date</code> is given a formatter function.</p>
<pre class="prettyprint source"><code>grid.formatters.date = function (ctx, cell) {
    return new Date(cell.value).toISOString();
};</code></pre><p>The return value of the formatter function will be displayed in the cell instead of the value
in the data without altering the data.</p>
<p>The second method is the <code>rendertext</code> event.  By subscribing to the <code>rendertext</code> event listener
we can intercept the value in the context of the <a href="#cell">cell</a> being drawn and alter it.</p>
<p>This method is slightly slower due to the O(n) loop employed in the event handler class.</p>
<p>This method is not dependent on values in the schema.  This methods overrides <code>grid.formatters</code>.</p>
<pre class="prettyprint source"><code>grid.addEventListener('rendertext', function (ctx, cell) {
    if (cell.rowIndex > -1) {
        if (cell.header.name === 'MyDateColumnName') {
            cell.formattedValue = new Date(cell.value).toISOString();
        }
    }
});</code></pre><h1>formatters</h1><p>Object that contains a list of formatting functions for displaying text.
The properties in this object match the <code>schema[].type</code> property.
For example, if the schema for a given column was of the type <code>date</code>
the grid would look for a formatter called <code>formatters.date</code>
if a formatter cannot be found for a given data type a warning will
be logged and the string formatter will be used.</p>
<p>Cell formatter function should contain the following arguments.</p>
<pre class="prettyprint source"><code>grid.formatters.date = function (ctx, cell) { return new Date(cell.value).toISOString(); }</code></pre><table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ctx</td>
<td>Canvas context.</td>
</tr>
<tr>
<td><a href="#cell">cell</a></td>
<td>Current cell.</td>
</tr>
</tbody>
</table>
<p>Formatters must return a string value to be displayed in the cell.</p>
<h1>sorters</h1><p>Object that contains a list of sorting functions for sorting columns.</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>columnName</td>
<td>Name of the column to be sorted.</td>
</tr>
<tr>
<td>direction</td>
<td><code>asc</code> or <code>desc</code> for ascending or descending.</td>
</tr>
</tbody>
</table>
<p>Sorter function must return a sort function.
This function will be used in the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">native sort method</a>.</p>
<p>Example sorter:</p>
<pre class="prettyprint source"><code>grid.sorters.number = function (columnName, direction) {
    var asc = direction === 'asc';
    return function (a, b) {
        if (asc) {
            return a[columnName] - b[columnName];
        }
        return b[columnName] - a[columnName];
    };
};</code></pre><h1>filters</h1><p>Object that contains a list of filters for filtering data.
The properties in this object match the <code>schema[].type</code> property.
For example, if the schema for a given column was of the type <code>date</code>
the grid would look for a filter called <code>filters.date</code>
if a filter cannot be found for a given data type a warning will
be logged and the string/RegExp filter will be used.</p>
<pre class="prettyprint source"><code>filters.number = function (value, filterFor) {
    if (!filterFor) { return true; }
    return value === filterFor;
};</code></pre><table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>Value of the data.</td>
</tr>
<tr>
<td>filterFor</td>
<td>Value to filter for.</td>
</tr>
</tbody>
</table>
<h1>data</h1><p>This is how data is set in the grid.
Data must be an array of objects that conform to a schema.</p>
<pre class="prettyprint source"><code>[
    {col1: 'row 1 column 1', col2: 'row 1 column 2', col3: 'row 1 column 3'},
    {col1: 'row 2 column 1', col2: 'row 2 column 2', col3: 'row 2 column 3'}
]</code></pre><p>Data values can be any primitive type.  However if a cell value is another data array,
a child grid will be rendered into the cell.  This child grid is different than a
tree view grid and uses the <code>childGridAttributes</code> attribute for properties and styling.</p>
<h1>schema</h1><p>Schema is optional.  Schema is an array of column objects.
If no schema is provided one will be generated from the
data, in that case all data will be assumed to be string data.</p>
<p>Each column object can have the following properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the column.  This is used to match with data and is the only required property.</td>
</tr>
<tr>
<td>type</td>
<td>The data type of this column</td>
</tr>
<tr>
<td>title</td>
<td>What will be displayed to the user.  If not present, name will be used.</td>
</tr>
<tr>
<td>width</td>
<td>The default width in pixels of this column.</td>
</tr>
<tr>
<td>hidden</td>
<td>When true the column will be hidden.</td>
</tr>
<tr>
<td>filter</td>
<td>The filter function to use to filter this column.  If no function is provided, type will determine filer.</td>
</tr>
<tr>
<td>formatter</td>
<td>The formatter function used display this column.  If no function is provided, type will determine formatter.</td>
</tr>
<tr>
<td>defaultValue</td>
<td>The default value of this column for new rows.  This is a function that takes the arguments <code>header</code> and <code>index</code> and must return a value for new default cells in this column.</td>
</tr>
</tbody>
</table>
<p>Example schema:</p>
<pre class="prettyprint source"><code>[
    {
        name: 'col1'
    },
    {
        name: 'col2'
    },
    {
        name: 'col3'
    }
]</code></pre></article>
    </section>







		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
	
		on 2017-02-23T23:44:13-08:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>